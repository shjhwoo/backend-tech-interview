# 장치 컨트롤러와 장치드라이버

## 장치 컨트롤러

입출력 장치의 종류가 너무 다양하고, CPU와의 데이터 전송률이 크게 차이가 나기 때문에 반드시 필요하다

입출력장치의 상태를 보여주는 상태 레지스터
입출력장치와 CPU가 주고받는 데이터가 임시로 저장되는 데이터 레지스터
각종 명령어를 저장해두는 제어 레지스터로 구성된다.

- 통신 중개
- 오류 검출
- 버퍼링: CPU와의 입출력 속도를 맞추기 위해 데이터를 모아두었다가 한번에 주거나, 모아두고 조금씩 내보내는 기법이다.

## 장치 드라이버

장치 컨트롤러라는 하드웨어를 컴퓨터 내부, 즉 CPU와 통신할 수 있도록 도와주는 소프트웨어다.
이것이 없으면 입출력이 불가능

장치 드라이버는 보통 운영체제가 인식한다. 운영체제가 기본으로 제공하기도 하지만 프로그램 제작자가 공급할 수도 있음

# 입출력 방법

3가지 방법이 있다

1. 프로그램 입출력
   프로그램 속 명령어로 입출력을 제어한다.

장치 컨트롤러에 있는 3개의 레지스터를 사용함.
쓰기: 제어 레지스터에 쓰기 명령 -> 상태 레지스터 확인 후 가용 상태인 경우 데이터를 제어 레지스터에 등록.

각 입출력장치의 레지스터에 주는 명령어 표현 방식:

- 메모리 맵 입출력 - CPU의 메모리에 메모리 주소 접근 공간 + 입출력 접근을 위한 주소 공간을 하나로 간주한다.
  즉 여러개의 주소공간을 나눠서 쓴다.
  각 메모리 주소마다 장치 컨트롤러를 가리키는 정보를 담고 있으므로 해당 메모리 주소로 장치 컨트롤러와 상호작용이 가능해진다.

2. 인터럽트 기반 입출력
3. DMA 입출력
